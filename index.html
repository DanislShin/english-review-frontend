<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>AI 영어 문장 해석 평가</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 40px;
        background-color: #f9f9f9;
      }
      textarea {
        width: 100%;
        height: 80px;
        margin-bottom: 10px;
        padding: 10px;
        font-size: 1em;
      }
      button {
        padding: 10px 20px;
        font-size: 1em;
      }
      #feedback {
        margin-top: 20px;
        white-space: pre-wrap;
        background: #fff;
        padding: 15px;
        border: 1px solid #ccc;
      }
    </style>
  </head>
  <body>
    <h1>AI 영어 문장 해석 평가</h1>

    <label for="sentence">① 영어 지문</label>
    <textarea
      id="sentence"
      placeholder="예: The weather was unexpectedly warm yesterday."
    ></textarea>

    <label for="input">② 당신의 해설</label>
    <textarea
      id="input"
      placeholder="예: 어제 날씨가 예상보다 따뜻했다는 의미입니다."
    ></textarea>

    <button onclick="submitReview()">해석 평가 요청</button>

    <div id="feedback"></div>

    <script>
      // ✅ 여기에 배포된 백엔드 주소 넣기 (Render 기준)
      const apiUrl = "https://english-review-backend.onrender.com/review";

      async function submitReview() {
        const sentence = document.getElementById("sentence").value;
        const input = document.getElementById("input").value;

        const response = await fetch(apiUrl, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ sentence, input }),
        });

        const data = await response.json();
        document.getElementById("feedback").textContent = data.feedback;
      }
    </script>
  </body>
</html>
